
(function(f,h,i,c){var g="pinterest_grid",e={padding_x:10,padding_y:10,no_columns:3,margin_bottom:50,single_column_breakpoint:700},d,a,b;function j(l,k){this.element=l;this.options=f.extend({},e,k);this._defaults=e;this._name=g;this.init()}j.prototype.init=function(){var k=this,l;f(h).resize(function(){clearTimeout(l);l=setTimeout(function(){k.make_layout_change(k)},11)});k.make_layout_change(k);setTimeout(function(){f(h).resize()},500)};j.prototype.calculate=function(m){var l=this,k=0,p=0,o=f(this.element),n=o.width();a=f(this.element).children();if(m===true){b=o.width()-l.options.padding_x}else{b=(o.width()-l.options.padding_x*l.options.no_columns)/l.options.no_columns}a.each(function(){f(this).css("width",b)});d=l.options.no_columns;a.each(function(s){var q,y=0,x=0,w=f(this),v=w.prevAll(),r=0;if(m===false){q=(s%d)}else{q=0}for(var u=0;u<d;u++){w.removeClass("c"+u)}if(s%d===0){p++}w.addClass("c"+q);w.addClass("r"+p);v.each(function(t){if(f(this).hasClass("c"+q)){x+=f(this).outerHeight()+l.options.padding_y}});if(m===true){y=0}else{y=(s%d)*(b+l.options.padding_x)}w.css({left:y,top:x})});this.tallest(o);f(h).resize()};j.prototype.tallest=function(l){var k=[],n=0;for(var o=0;o<d;o++){var m=0;l.find(".c"+o).each(function(){m+=f(this).outerHeight()});k[o]=m}n=Math.max.apply(Math,k);l.css("height",n+(this.options.padding_y+this.options.margin_bottom))};j.prototype.make_layout_change=function(k){if(f(h).width()<k.options.single_column_breakpoint){k.calculate(true)}else{k.calculate(false)}};f.fn[g]=function(k){return this.each(function(){if(!f.data(this,"plugin_"+g)){f.data(this,"plugin_"+g,new j(this,k))}})}})(jQuery,window,document);